<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Madeleine Sauvage</title>
  <style>
    /* ========== GLOBAL RESET ========== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* ========== BODY ========== */
    body {
      font-family: Garamond, serif;
      overflow-x: hidden;
    }

    body.lock-scroll {
      overflow: hidden;
      height: 100vh;
    }

    /* Hide scrollbar but keep scroll functionality */
    body {
      scrollbar-width: none;  /* Firefox */
    }

    body::-webkit-scrollbar {
      display: none;          /* Chrome, Safari */
    }

    html {
      overflow-y: scroll; /* reserves scrollbar space to prevent layout shift */
    }

    body {
      scrollbar-width: none; /* Firefox */
    }

    body::-webkit-scrollbar {
      display: none; /* Chrome, Safari */
    }

    /* When content screens are active (body.lock-scroll) fade out bg */
      body.showing-screen .main-page-background {
        opacity: 0;
      }

    /* ========== CONTENT SCREENS ========== */
    .content-screens {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100vh;
      z-index: 0;
    }

    .cd-screen {
      position: absolute;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 40px;
      opacity: 0;
      transition: opacity 1s ease;
      background-color: #fff; /* ensures main bg doesn't show through */
    }

    .cd-screen.active {
      opacity: 1;
    }

    /* Universal layout inside screens */
    .screen-content-custom {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      height: 100%;
    }

    /* Left column */
    .left-column {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
      margin-top: 5vh;
    }

    .left-column img.album-art {
      width: 300px;
      height: auto;
      object-fit: cover;
    }

    /* Right column */
    .right-column {
      max-width: 40%;
      text-align: right;
      padding-right: 40px;
    }

    /* Text hierarchy */
    .screen-title {
      font-size: 3em;
      color: #2e6f40;
      margin-bottom: 10px;
    }

    .screen-subtitle {
      font-size: 1.4em;
      color: #555;
      margin-bottom: 12px;
      font-weight: normal;
    }

    .screen-text {
      font-size: 1.1em;
      line-height: 1.6;
      color: #333;
    }

    /* Spacer before main CD */
    .spacer {
      height: 70vh;
    }

    /* ========== MAIN CD ========== */
    .main-cd-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 60px;
      padding: 40px 0;
      position: relative;
      z-index: 2;
    }

    .cd {
      width: 300px;
      height: 300px;
      cursor: pointer;
      position: relative;
      transition: transform 0.3s ease;
    }

    .cd img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 50%;
      background: transparent;
      transition: transform 0.25s ease;
    }

    .cd:hover {
      transform: scale(1.05);
    }

    .cd.spinning {
      transform: scale(1.15) translateY(-15px);
      z-index: 3;
    }

    .cd.spinning img {
      animation: spin 2s linear infinite;
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    /* ========== CAROUSEL ========== */
    .carousel-section {
      width: 100%;
      position: relative;
      z-index: 2;
    }

    .carousel-container {
      position: relative;
      overflow: hidden;
      width: 100%;
    }

    .carousel-track {
      display: flex;
      gap: 0;
      padding: 20px;
      user-select: none;
    }

    .carousel-cd {
      flex-shrink: 0;
      width: 200px;
      height: 200px;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .carousel-cd img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 50%;
      background: transparent;
      pointer-events: none;
    }

    .carousel-cd:hover {
      transform: scale(1.15) translateY(-10px);
      z-index: 2;
    }

    /* Swap animation */
    .swap-animate {
      transform: scale(0.8);
    }

    /* ========== SCREEN-SPECIFIC STYLES ========== */

        /* Fix image cropping only on the Hanni Cardigan screen */
    .cd-screen[data-cd="assets/cd1.png"] .left-column img.album-art {
      width: 100%;
      max-width: 400px;
      height: auto;
      object-fit: contain; /* show full image, no cropping */
    }

    .cd-screen[data-cd="assets/cd1.png"] .left-column {
      flex-shrink: 0; /* prevent flex compression */
    }

    .cd-screen[data-cd="assets/cd.png"] .left-column img.album-art {
      width: 100%;
      max-width: 400px;
      height: auto;
      object-fit: contain; /* show full image, no cropping */
    }

    .cd-screen[data-cd="assets/cd.png"] .left-column {
      flex-shrink: 0; /* prevent flex compression */
    }

    .cd-screen[data-cd="assets/cd.png"] .left-column img.album-art {
      height: 45vh;
    }

    .cd-screen[data-cd="assets/cd1.png"] .left-column {
      margin-top: 0;
      gap: 0;
    }

    .cd-screen[data-cd="assets/cd1.png"] .left-column img.album-art {
      height: 50vh;
    }

    .cd-screen[data-cd="assets/cd2.png"] .left-column {
      margin-top: 0;
      gap: 0;
    }

    .cd-screen[data-cd="assets/cd2.png"] .left-column img.album-art {
      height: 50vh;
    }

    /* About Me (cd4) */
    .cd-screen[data-cd="assets/cd4.png"] {
      background-color: #faf9f6;
      display: flex;
      justify-content: flex-end;
      align-items: center;
      padding: 40px;
    }

    .cd-screen[data-cd="assets/cd4.png"] .screen-content-custom {
      justify-content: flex-end;
    }

      /* Custom layout for THE SICILY SLIPOVER screen */
    .cd-screen[data-cd="assets/cd2.png"] .left-column {
      display: grid;
      grid-template-columns: 1fr 1fr; /* two columns */
      grid-template-rows: auto auto;  /* let rows size naturally */
      column-gap: 5px;
      row-gap: 5px;
      align-items: start;
      justify-content: center;
      margin-top: 0vh;
    }

/* Stack the 2nd and 3rd images vertically on the left */
    .cd-screen[data-cd="assets/cd2.png"] .left-column img:nth-child(1) {
      grid-column: 2; /* stripe.jpeg on the right */
      grid-row: 1 / span 2; /* spans both rows */
      align-self: center;
    }

    .cd-screen[data-cd="assets/cd2.png"] .left-column img:nth-child(2) {
      grid-column: 1;
      grid-row: 1;
    }

    .cd-screen[data-cd="assets/cd2.png"] .left-column img:nth-child(3) {
      grid-column: 1;
      grid-row: 2;
    }

/* Make them scale evenly without cropping */
    .cd-screen[data-cd="assets/cd2.png"] .left-column img {
      width: 100%;
      height: auto;
      object-fit: contain;
    }

    .about-title {
      font-family: Garamond, serif;
      font-size: 4em;
      color: #2e6f40;
      margin-bottom: 15px;
    }

    .project-subtitle {
      font-size: 1.4em;
      color: #2e6f40;
      margin-bottom: 12px;
      font-weight: normal;
    }

    .about-box {
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
      max-width: 400px;
      margin-left: auto;
    }

    .about-box p {
      font-size: 1.1em;
      line-height: 1.6;
      color: #333;
      text-align: right;
    }

    /* Collage grid */
    .left-columns-wrapper {
      position: absolute;
      top: 0;
      left: 0;
      height: 100vh;
      width: 39%;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(4, 1fr);
    }

    .left-columns-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  </style>
</head>
<body>

  <!-- Translucent background image (main page only) -->
  <div class="main-page-background"></div>

  <!-- Content screens -->
  <div class="content-screens">
     <div class="cd-screen" data-cd="assets/cd.png">
      <div class="screen-content-custom">
        <div class="left-column">
          <img src="assets/IMG_0151.png" alt="Album Art" class="album-art">
          <img src="assets/IMG_0159.png" alt="Album Art 2" class="album-art">
        </div>
        <div class="right-column">
          <h2 class="screen-title">THE VERY HUNGRY CARDIGAN</h2>
          <h3 class="screen-subtitle">@katiealicemakes</h3>
          <p class="screen-text">
            This was my first ever test knit, I was so nervous but it ended up being so fun!
            It was my first time doing colourwork for a large piece, I definitely have a lot of gaps and pulling but blocking it helped. 
            I redid the apple motif a few times to try and improve it and went back over with duplicate stitching to neaten it up.
            <br><br>
            Yarn used:
            <br>
            Drops Flora: Lemonade (26), Misty Forest (23), amethyst (09)
            <br>
            BC Garn Bio Shetland: Wool White (01), Forest Green (8), Grass Green (10)
            <br>
            All other colours were scrap yarn I already had
          </p>
        </div>
      </div>
    </div>



    <div class="cd-screen" data-cd="assets/cd1.png">
      <div class="screen-content-custom">
        <div class="left-column">
          <img src="assets/hannifront.jpeg" alt="Album Art" class="album-art">
          <img src="assets/hanniback.jpeg" alt="Album Art 2" class="album-art">
        </div>
        <div class="right-column">
          <h2 class="screen-title">THE HANNI CARDIGAN</h2>
          <h3 class="screen-subtitle">@knittersandfriends</h3>
          <p class="screen-text">
            I bought this yarn to self-draft my own cardigan with and off centred close that used metal clasps. 
            After finishing it I never wore it and wasn't happy with how it looked, I saw the Hanni Cardigan on Pinterest in burgundy and thankfully had enough yarn for it.
            The pattern calls for the yarn to be held double with mohair but I didn't want to spend even more money and liked how the yarn looked by itself, luckily it was still on gauge.
            I'd still like to redo the first project that used this yarn but I need to take it slower and not rush into it.
            I love how this turned out! Double knit button bands and collar make any project look so much better, thinking of making it again in the same burgundy colour I saw!
            <br><br>
            Yarn used:
            <br>
            DROPS Nepal: 0501 MIX Grey
          </p>
        </div>
      </div>
    </div>


    <div class="cd-screen" data-cd="assets/cd2.png">
      <div class="screen-content-custom">
        <div class="left-column">
          <img src="assets/stripe.jpeg" alt="Album Art" class="album-art">
          <img src="assets/sicilyforever.jpeg" alt="Album Art 2" class="album-art">
          <img src="assets/foreverback.jpeg" alt="Album Art 2" class="album-art">
        </div>
        <div class="right-column">
          <h2 class="screen-title">THE SICILY SLIPOVER</h2>
          <h3 class="screen-subtitle">@kisskissrhinestones</h3>
          <p class="screen-text">
            Such a good pattern that I've made it 3 times! I made the cream vest plain at first but realised anything I wore underneath showed through.
            I used duplicate stitch to add the lyrics from 'Not a lot, just forever' by Adrianne Lenker and the bird motif. With the amount 
            of yarn used for the bird it has made it the fabric quite stiff and thick, but steaming it loosened it 
            <br>
            I used the wrong kind of cast-off for the sleeves and neck of the striped vest so they are quite loose, I threaded through some elastic 
            instead of redoing it.
            <br><br>
            Yarn used:
            <br>
            Managed to get two cones of the light blue and pink yarn second hand
            <br>
            Baa Ram Ewe Pip Colourwork: Hessle (005)
            <br>
            Drops Flora: Off White (01)
          </p>
        </div>
      </div>
    </div>


<!-- Screen for cd5.png -->
<div class="cd-screen" data-cd="assets/cd5.png">
  <div class="screen-content-custom">
    <!-- Left column text -->
    <div class="left-column">
      <h2 class="screen-title">GOODREADS RECOMMENDER SYSTEM</h2>
      <h3 class="screen-subtitle">My Final Year Dissertation</h3>
      <p class="screen-text">

      </p>
      <p class="screen-text">
      </p>
    </div>

    <!-- Right column text -->
    <div class="right-column">
      <p class="screen-text">      </p>
    </div>
  </div>
</div>


    <!-- Screen for cd4.png (About Me) -->
    <div class="cd-screen" data-cd="assets/cd4.png">
      <div class="screen-content-custom">
        <div class="left-columns-wrapper">
          <img src="assets/leo.jpg" alt="">
          <img src="assets/ants.jpg" alt="">
          <img src="assets/adrianne.jpg" alt="">
          <img src="assets/ladder.jpg" alt="">
          <img src="assets/wave.jpg" alt="">
          <img src="assets/murder.jpg" alt="">
          <img src="assets/slept.jpg" alt="">
          <img src="assets/eno.jpg" alt="">
          <img src="assets/eels.jpg" alt="">
          <img src="assets/pawn.jpg" alt="">
          <img src="assets/deja.jpg" alt="">
          <img src="assets/mind.jpg" alt="">
        </div>
        <div class="right-column">
          <h2 class="about-title">ABOUT ME</h2>
          <p>Hi, I’m Madeleine! I did my bachelor's in Computer Science and now I'm a Postgraduate Researcher in the safety of AI. 
            My focus is on the lifelong safety of dynamic recommender systems using uncertainty to improve recommendations for long-tail items. 
            I believe safety in the Computer Science community deserves more time and should be seen not as a constraint but as an innovation in its own right.
            <br><br> I love knitting, reading, gardening, collecting CDs (my favourites on the left), and listening to radio 4. 
            This website is to document my projects — whether it's coding, research, knitting, or sewing. 
            I'm hoping this will be a good way to see my progress and keep myself accountable over the 4 years of my PhD.  
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Spacer before main CD -->
  <div class="spacer"></div>

  <!-- Main CD -->
  <div class="main-cd-container">
    <div class="cd" id="mainCD">
      <img src="assets/cd4.png" alt="CD">
    </div>
  </div>

  <!-- Carousel -->
  <div class="carousel-section">
    <div class="carousel-container">
      <div class="carousel-track" id="carouselTrack">
        <div class="carousel-cd"><img src="assets/cd.png" alt="CD"></div>
        <div class="carousel-cd"><img src="assets/cd1.png" alt="CD"></div>
        <div class="carousel-cd"><img src="assets/cd2.png" alt="CD"></div>
        <div class="carousel-cd"><img src="assets/cd3.png" alt="CD"></div>
        <div class="carousel-cd"><img src="assets/cd4.png" alt="CD"></div>
        <div class="carousel-cd"><img src="assets/cd5.png" alt="CD"></div>
      </div>
    </div>
  </div>

<script>
  // === Scroll to bottom on load ===
  window.addEventListener('load', () => {
    window.scrollTo(0, document.body.scrollHeight);
  });


  const mainCD = document.getElementById('mainCD');
  const mainCDImg = mainCD.querySelector('img');
  let isSpinning = false;
  let originalScrollPos = 0;

  // === Show correct content screen ===
  function updateScreen() {
    const currentCDSrc = mainCDImg.src;
    const allScreens = document.querySelectorAll('.cd-screen');
    allScreens.forEach(screen => {
      const screenCD = screen.getAttribute('data-cd');
      if (currentCDSrc.includes(screenCD)) {
        screen.classList.add('active');
      } else {
        screen.classList.remove('active');
      }
    });
  }

  // === Main CD click: spin + reveal ===
  mainCD.addEventListener('click', () => {
    isSpinning = !isSpinning;
    mainCD.classList.toggle('spinning');

  if (isSpinning) {
    originalScrollPos = window.scrollY;
      window.scrollTo({ top: 0, behavior: 'smooth' });
    document.body.classList.add('lock-scroll', 'showing-screen');
    updateScreen();
  } else {
    document.body.classList.remove('lock-scroll', 'showing-screen');
    window.scrollTo({ top: originalScrollPos, behavior: 'smooth' });
    document.querySelectorAll('.cd-screen').forEach(s => s.classList.remove('active'));
  }
  });

  // === Carousel setup ===
  const track = document.getElementById('carouselTrack');
  const cds = Array.from(track.children);
  const cdWidth = 200;
  const totalCDs = cds.length;

  // Clone for infinite loop
  const cloneBefore = cds.map(cd => cd.cloneNode(true));
  const cloneAfter = cds.map(cd => cd.cloneNode(true));
  cloneBefore.forEach(c => track.insertBefore(c, track.firstChild));
  cloneAfter.forEach(c => track.appendChild(c));

  const loopWidth = cdWidth * totalCDs;
  let targetTranslate = -loopWidth;
  let currentTranslate = targetTranslate;
  let velocity = 0;
  let startX = 0;
  let prevX = 0;
  let dragging = false;
  let animationFrame;

  function normalizePosition() {
    if (currentTranslate > -cdWidth) {
      currentTranslate -= loopWidth;
      targetTranslate -= loopWidth;
    } else if (currentTranslate < -loopWidth * 2) {
      currentTranslate += loopWidth;
      targetTranslate += loopWidth;
    }
  }

  // === Smoother animation loop ===
  function animateScroll() {
    const diff = targetTranslate - currentTranslate;
    currentTranslate += diff * 0.15; // easing factor
    targetTranslate += velocity;
    velocity *= 0.8; // slower friction
    normalizePosition();
    track.style.transform = `translateX(${currentTranslate}px)`;

    if (dragging || Math.abs(velocity) > 0.1 || Math.abs(diff) > 0.1) {
      animationFrame = requestAnimationFrame(animateScroll);
    } else {
      cancelAnimationFrame(animationFrame);
      animationFrame = null;
    }
  }

  function startDrag(x) {
    dragging = true;
    startX = x;
    prevX = x;
    velocity = 0;
    if (!animationFrame) animationFrame = requestAnimationFrame(animateScroll);
  }

  function moveDrag(x) {
    if (!dragging) return;
    const diff = x - prevX;
    targetTranslate += diff;
    velocity = diff;
    prevX = x;
  }

  function endDrag() {
    dragging = false;
  }

  // === Mouse & touch support ===
  track.addEventListener('mousedown', e => startDrag(e.clientX));
  window.addEventListener('mousemove', e => moveDrag(e.clientX));
  window.addEventListener('mouseup', endDrag);

  track.addEventListener('touchstart', e => startDrag(e.touches[0].clientX));
  window.addEventListener('touchmove', e => moveDrag(e.touches[0].clientX));
  window.addEventListener('touchend', endDrag);

  // === Wheel scroll ===
  const container = document.querySelector('.carousel-container');
  container.addEventListener('wheel', e => {
    if (Math.abs(e.deltaX) > Math.abs(e.deltaY)) {
      e.preventDefault();
      velocity -= e.deltaX * 0.03; // smoother wheel
      if (!animationFrame) animationFrame = requestAnimationFrame(animateScroll);
    }
  }, { passive: false });

  // === CD swapping ===
  function addSwapListeners() {
    const allCDs = document.querySelectorAll('.carousel-cd img');
    allCDs.forEach(cdImg => {
      cdImg.parentElement.onclick = () => {
        const tempSrc = mainCDImg.src;
        mainCDImg.classList.add('swap-animate');
        cdImg.classList.add('swap-animate');
        setTimeout(() => {
          mainCDImg.src = cdImg.src;
          cdImg.src = tempSrc;
          mainCDImg.classList.remove('swap-animate');
          cdImg.classList.remove('swap-animate');
          if (isSpinning) updateScreen();
          addSwapListeners(); // rebind
        }, 200);
      };
    });
  }

  addSwapListeners();
  animationFrame = requestAnimationFrame(animateScroll);
</script>
</body>
</html>

